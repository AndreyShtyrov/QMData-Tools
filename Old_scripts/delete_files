import pathlib, os

main_path = pathlib.Path.cwd()

list_of_keys = {"slurm", "mjob", "GssOrb", "guessorb",
                "molcas.o", "molcas.e", "stdout", ".status",
                "mg09job", "rfout", ".chk"}


def check_is_keys(path_name, *keys):
    for key in keys:
        if key in path_name:
            return True
    return False


def get_content(path: pathlib.Path):
    for it_path in path.iterdir():
        if it_path.is_file() and check_is_keys(it_path.name, *list_of_keys):
            yield it_path
        elif it_path.is_dir():
            yield from get_content(it_path)


with open("result.txt", "w") as result:
    for file in get_content(main_path):
        result.write(str(file) + "\n")

with open("result.txt", "r") as result:
    for line in result:
        p = pathlib.Path(line.replace("\n", ""))
        if p.is_file():
            os.remove(p)

